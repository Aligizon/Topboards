{% extends "layouts/admin_base.html" %}

{% block title %}Categories{% endblock %}

{% block head %} <!-- css -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block content %} 

    <div class="container-fluid mt-3">
        <div class="row">
            <div class="d-flex justify-content-between align-items-end">
                <h2 class="category-title mt-3">Categories</h2>
                
                <div class="text-nowrap">
                    <button class="no-style-button" type="submit" form="categoriesForm">
                        <img class="icon-xxl" src="{{ url_for('static', filename = 'fonts/checkmark_icon.svg') }}" alt="confirm">
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid mt-3">
        <div class="row">
            <div class="col-lg p-2">
                <form id="categoriesForm" class="base-form" action="/admin/categories" enctype="multipart/form-data" method="post">
                    {% if categories %}
                        {% for i in range(categories|length) %}
                            {% if categories[i].name != '' %}
                                <!-- <div class="add-design-categories-wrapper"> -->

                                    <div class="category-div">
                                        <input class="base-input my-2" name="_category[]" type="text" placeholder="Category name" value="{{ categories[i].name }}">
                                        <a class="delete-link" href="#">
                                            <img id="delete-icon" class="icon-l" src="{{ url_for('static', filename = 'fonts/delete_icon.svg') }}" alt="delete">
                                        </a>
                                    </div>
                                    <!-- {% for j in range(categories[i].sub_categories|length) %}
                                    <div class="sub-category-div ms-3">
                                        <input class="base-input mb-3" name="_sub_category{{j}}[]" type="text" placeholder="Sub-category {{j+1}}" value="{{categories[i].sub_categories[j].name}}">
                                        <a class="delete-sub-link" href="#">
                                            <img id="delete-icon" class="icon-l" src="{{ url_for('static', filename = 'fonts/delete_icon.svg') }}" alt="delete">
                                        </a>
                                    </div>
                                    {% endfor%}
                                    <a class="add-product-button ms-3" href="#">
                                        <img class="icon-l" src="{{ url_for('static', filename = 'fonts/plus_icon.svg') }}" alt="new">
                                    </a> -->
                                <!-- </div> -->
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-lg p-2">
                <div id="new-category" class="add-new-category-div">
                    <h6>New Category</h6>
                </div>
            </div>
            
        </div>
    </div>

{% endblock %}


{% block scripts %} <!-- js -->
<script src="{{ url_for('static', filename='js/adminCategories.js') }}"></script>
{% endblock %}